# CS_Project2 주식데이터 분석

### 문제제기
- 주식은 굉장히 복잡적인 요소에 따라서 오르고 내린다.
- 실제적으로 다양한 지표들이 주식과 연관이 있는지, 있다면 언제 주식을 사는 것이 좋을지 알아보고자 한다.

### 주식과 각 지표의 관계
**1. 물가**
- 물가가 안정적일 때 사람들은 미래를 설계하며 안정적인 투자활동을 하고, 주식도 상승하게된다.
- 물가가 높을 때 사람들은 불안에 떨며 지갑을 닫고 주식을 팔게 되고 정부는 높은 물가를 잡기 위해 금리를 올려서 결과적으로 기업의 이자부담이 늘어 주가가 떨어지게 된다.(현재 상황)

**2.환율**   

`상식`    
- 환율이 오르면 수출로 벌어들이는 돈이 많아지고 기업의 성과가 좋아져 주식이 오른다.  

`사실`
- 환율 하락 : 주식상승(기업의 수출증가, 외국인 유출), 수출을 많이해서 달러공급이 높으면, 달러의 가격이 하락한다.     
- 환율 상승 : 주식하락(기업의 수출감소, 외국인 유입), 수출이 적으면 달러공급이 적어져서 달러의 가치가 상승한다.      
- 환율이 비쌀 때 한국에 투자를 하던 외국인들이 환율이 저렴해지면 주식을 팔고 나감( 달러를 비싸게 팔고, 싸게 사서 나감)   

**3. 금리**
- 금리가 하락하면 사람들이 주식이나 펀드로 눈을 돌림, 기업의 이자부담이 줄어 투자활동 활발 -> 주식상승
- 금리가 상승하면 사람들이 채권이나 저축을 하게되고, 기업의 이자부담이 늘어 소극적 투자활동을 하게됨 -> 주식하락

**4. 부동산**
- 유동성, 수요, 공급에 따라 오르고 내림
- 주식시장의 상승,하락과 상관 없이 지속적으로 상승
- 현금의 유동성이 클 때 주식,부동산 모두 상승한다.
- 이유 : 주식을 팔고 집을 사는 경우는 있지만, 집을 팔고 주식을 사는 경우는 드물다.

**5. 외국인 보유비중**
- 글로벌 경제가 좋지 않은 경우 외국인들은 국내 주식을 매도하는 경향이 있다.

### 가설
1. 각 지표들은 주식과 연관이 있을 것이다.
2. 연관있는 지표들을 기반으로 주식의 적절한 구매시기를 예측할 수 있다.

### 데이터 소개
**데이터는 직접 가공하였으며, 2005년~ 2022년 자료를 사용하였다.**
- 코스피 : 한국거래소 유가증권시장의 종합주가지수
- 코스닥 : 코스닥 시장에 상장된 기업의 종합주가지수
- 기준금리 : 한국은행의 금리, 한국 금리체계의 기준이 되는 금리
- 달러 : 미국달러를 한국화폐로 환산한 가격
- 거래대금(외) : 외국인의 누적 한국주식투자 거래대금
- 주택판매가격 : 전국 주택판매가격추이
- 소비자물가 : 미국 달러를 한국 화폐로 환산한 가격

### 데이터 전처리
- 각 지표를 일자별, 월별 데이터로 만들고 규격을 맞춤
- 일부 자료에서 2003년 자료가 없는 것이 발견되어 앞의 데이터 제거 후 분석

### 데이터 분석
**월별데이터 분석(변동이 심한 이유)**
- 2008년 서브프라임 모기지, 미국이  경제활성화를 위해 금융규제를 완화하였고 무분별한 집담보대출이 늘어나면서 미국의 금융시장이 붕괴 되어 전 세계로 퍼져나간 사건
- 2020년 코로나19로 인한 경제 침체

![image](https://user-images.githubusercontent.com/110000734/225685117-1ff19170-45b5-492f-b197-923e36248581.png)

**각 지표별 코스피와의 관계 비교**
- 코스닥과 코스피는 거의 비슷한 흐름을 보임
- 금리와 달러는 실질적으로 관련이 없는 것 같지만, 경제위기에는 동반 상승 또는 동반하락을 하기도함
- 소비자 물가와 주택판매가격은 변동성이 크지 않고 꾸준히 상승
- 외국인들은 경제 위기에 한국 주식을 적극적으로 매도 하는 것을 알 수 있음

![image](https://user-images.githubusercontent.com/110000734/225685482-affdd572-8d45-4c00-8255-2f02ac257e99.png)

**각 지표간 상관관계 확인**
- 코스피는 코스닥, 주택판매가격, 소비자물가와 높은 상관관계를 보임
- 기준금리는 코스피와 양의 상관관계를 보임

![image](https://user-images.githubusercontent.com/110000734/225685551-5f63649d-394e-4ee0-966a-5c2afde3de17.png)

### 데이터 모델링
**LassoCV를 통한 코스피의 상관관계분석**
- 훈련데이터에서 0.86, 테스트데이터에서 0.85의 점수를 나타냄 
- LassoCV는 관계가 있는것은 더 크게, 관계가 없는 것은 더 작게 만드는 특징이 있음
- 앞서 연관성이 크다고 판단된 주택판매가격과 소비자물가 중  주택판매가격의 연관성이 더 크다는 것을 알수 있음

![image](https://user-images.githubusercontent.com/110000734/225685623-3b7979c5-ccab-4906-9e94-4982a4e180c3.png)

### 결론

**가설1. 각 지표들은 주식과 연관이 있을 것이다.**
- 코스닥, 주택판매가격, 소비자물가는 코스피와 양의 상관관계를 가지고, 달러, 기준금리, 외국인 거래대금은 음의 상관관계를 가짐

**가설2. 연관있는 지표들을 기반으로 주식의 적절한 구매시기를 예측할 수 있다.**
- 외국인의 급격한 매도세는 코스피의 하락신호 
- 달러와 금리의 동반 상승은 코스피의 하락신호
- 구매 시기는 예측할 수 없었다.

**그 외**
- 주택판매가격, 물가상승률은 코스피처럼 변동성이 크지는 않으나, 지속적으로 꾸준히 올랐으며, 코스피도 변동성이 크긴 하나 결국 꾸준히 올라왔다. 즉, 주식도 매도하지 않고 유지하면 결국 오를 것이다.

